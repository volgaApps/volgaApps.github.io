<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title></title>
  <link rel="stylesheet" href="style.css" />

  <script>
    console.log('init webkitAudioContext')
    if (typeof webkitAudioContext !== "undefined") {
        var adidoContext = new webkitAudioContext();
    }
  </script>

</head>
<body>
    <script>
        var GAME;
        var audio = {};
        var audio = {
            sound: 'C:/Users/panfe/click.ogg'
        }

        var loadAudioData = function(name, url) {
            loadMusic(url, function(buffer) {
                GAME.audio[name] = buffer;
            });
        };

        for (var name in audio) {
            var url = audio[name];
            loadAudioData(name, url);
        }

        function loadMusic(url, cb) {
        var req = new XMLHttpRequest();
        req.open('GET', url, true);
        req.responseType = 'arraybuffer';
        req.onload = function() {
            audioContext.decodeAudioData(req.response, cb);
        };
        req.send();
    }

    function playSound(buffer, opt, cb) {
        if (!opt) cb = opt;
        opt = opt || {};

        var src = adidoContext.createBufferSource();
        src.buffer = buffer;
        var gainNode = audioContext.createGainNode();
        src.connect(gainNode);
        gainNode.connect(audioContext.destination);

        if (typeof opt.sound !== "undefined") {
            gainNode.gain.value = opt.sound;
        } else {
            gainNode.gain.value = 1;
        }

        if (opt.loop) src.loop = true;
        src.noteOn(0);
        cb(src);
    }

    function stopSound(src) {
        src.noteOff(0);
    }

    function playGameSound(name, opt) {
        opt = opt || {};
        var cb = function(src) {
            GAME.audio_src[name] = src;
        };

        playSound(GAME.audio[name], opt, cb);
    }
    </script>
 <script>
    function clickEv() {
        playGameSound('sound', {loop: false, sound: 0.5});       
    }

    document.addEventListener('click', clickEv);
 </script>
</body>
</html>